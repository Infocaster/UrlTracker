<div ng-controller="UrlTracker.OverviewController as vm">
    <umb-editor-sub-header>
        <umb-editor-sub-header-content-left>
            <umb-button action="vm.clickCreateButton()" type="button" button-style="outline" state="vm.createButtonState" label="Create Redirect" disabled="vm.createButtonState === 'busy'"></umb-button>
        </umb-editor-sub-header-content-left>

        <umb-editor-sub-header-content-right>
            <umb-tree-search-box type="text" ng-enter="vm.search()" ng-model="vm.searchString"></umb-tree-search-box>
        </umb-editor-sub-header-content-right>
    </umb-editor-sub-header>

    <umb-editor-sub-header>
        <umb-editor-sub-header-content-left>
            <umb-button action="vm.clickCreateButton()" type="button" button-style="outline" state="vm.createButtonState" label="Create Redirect" disabled="vm.createButtonState === 'busy'"></umb-button>
        </umb-editor-sub-header-content-left>

        <umb-editor-sub-header-content-right>
            <umb-tree-search-box type="text" ng-enter="vm.search()" ng-model="vm.searchString"></umb-tree-search-box>
        </umb-editor-sub-header-content-right>
    </umb-editor-sub-header>

    <!--<label>Filter: </label>
    <input type="checkbox" value="Automatic entries" disabled/> Automatic entries
    <input type="checkbox" value="Custom Url entries" disabled /> Custom Url entries
    <input type="checkbox" value="Custom Regex entries" disabled /> Custom Regex entries-->

    <umb-loader ng-if="vm.loading"></umb-loader>

    <div class="umb-table" ng-if="!vm.loading">
        <div class="umb-table-head">
            <div class="umb-table-row">
                <div class="umb-table-cell col-id"><input type="checkbox" ng-click="vm.selectAll()" /></div>
                <div class="umb-table-cell">Site</div>
                <div class="umb-table-cell">Old URL/ RegEx</div>
                <div class="umb-table-cell col-destination">New URL</div>
                <div class="umb-table-cell col-notes">Notes</div>
                <div class="umb-table-cell col-date">
                    <button class="umb-table-head__link sortable">Created</button>
                </div>
                <div class="umb-table-cell col-actions"></div>
            </div>
        </div>
        <div class="umb-table-body">
            <div class="umb-table-row -selectable umb-outline" ng-repeat="item in vm.items" ng-click="vm.selectEntry(item)">
                <div class="umb-table-cell col-id"><input type="checkbox" ng-checked="vm.allItemsSelected" /></div>

                <div class="umb-table-cell">
                    <span>
                        {{vm.getSiteName(item)}}
                    </span>
                </div>

                <div class="umb-table-cell">
                    <span ng-if="item.OldUrl">{{item.OldUrl}}</span>
                    <span ng-if="item.OldRexEx">{{item.OldRexEx}}</span>
                </div>

                <div class="umb-table-cell col-destination">
                    <span ng-if="item.RedirectUrl != null">{{item.RedirectUrl}}</span>
                </div>
                <div class="umb-table-cell col-notes">
                    {{item.Notes}}
                </div>
                <div class="umb-table-cell col-date">
                    {{item.Inserted | date: 'yyyy-MM-dd HH:mm'}}
                </div>
                <div class="umb-table-cell col-actions justify-end">
                    <umb-button action="vm.editEntry(item)"
                                type="button"
                                button-style="outline"
                                label="Edit">
                    </umb-button>
                    <umb-button action="vm.deleteEntry(item)"
                                type="button"
                                button-style="danger"
                                label="Remove">
                    </umb-button>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <umb-pagination page-number="vm.pagination.pageNumber"
                        total-pages="vm.pagination.totalPages"
                        on-next="vm.nextPage"
                        on-prev="vm.prevPage"
                        on-go-to-page="vm.goToPage">
        </umb-pagination>
    </div>
    <umb-editor-footer>
        <umb-editor-footer-content-left>
            <umb-button action="vm.deleteSelected()"
                        type="button"
                        label="Delete selected"
                        button-style="action">
            </umb-button>

        </umb-editor-footer-content-left>
        <umb-editor-footer-content-right>
            <!--<label>Page size: 20</label>-->
            <!--<select ng-model="vm.itemsPerPage" ng-change="vm.pageSizeChanged()">
                <option ng-repeat="option in vm.pageSizeOptions" value="{{option.value}}" ng-value="{{option.value}}">{{option.value}}</option>
            </select>-->
        </umb-editor-footer-content-right>
    </umb-editor-footer>
</div>